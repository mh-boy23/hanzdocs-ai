<!DOCTYPE html>
<html lang="pt-MZ">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HanzDocs AI - Documentos com Inteligência Artificial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --accent: #f59e0b;
        }

        body { font-family: 'Inter', sans-serif; }

        .glass-nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .a4-page {
            width: 210mm;
            min-height: 297mm;
            background: white;
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 20mm;
            box-sizing: border-box;
        }

        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .a4-page { box-shadow: none; margin: 0; width: 100%; }
        }

        /* Animações */
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .loader {
            border-top-color: var(--primary);
            animation: spinner 0.6s linear infinite;
        }
        @keyframes spinner { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <!-- Navegação Principal -->
    <nav id="main-nav" class="glass-nav fixed top-0 w-full z-50 border-b border-slate-200 no-print">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2 cursor-pointer" onclick="showSection('landing')">
                <div class="bg-blue-600 p-1.5 rounded-lg">
                    <i class="fas fa-file-invoice text-white"></i>
                </div>
                <span class="font-bold text-xl tracking-tight">HanzDocs <span class="text-blue-600">AI</span></span>
            </div>

            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-slate-600">
                <a href="#funcionalidades" class="hover:text-blue-600 transition">Funcionalidades</a>
                <a href="#precos" class="hover:text-blue-600 transition">Preços</a>
                <a href="#templates" class="hover:text-blue-600 transition">Templates</a>
            </div>

            <div class="flex items-center gap-3">
                <button onclick="showSection('auth')" class="px-4 py-2 text-sm font-semibold text-slate-700 hover:text-blue-600">Entrar</button>
                <button onclick="showSection('auth')" class="px-5 py-2.5 bg-blue-600 text-white text-sm font-bold rounded-full hover:shadow-lg hover:shadow-blue-200 transition">Começar Grátis</button>
            </div>
        </div>
    </nav>

    <!-- SECÇÃO: LANDING PAGE -->
    <section id="landing-section" class="pt-32 pb-20 no-print">
        <div class="max-w-5xl mx-auto px-4 text-center">
            <h1 class="text-5xl md:text-7xl font-extrabold text-slate-900 leading-[1.1] mb-8">
                Cria documentos <span class="text-blue-600">profissionais</span> em segundos.
            </h1>
            <p class="text-lg text-slate-600 mb-10 max-w-2xl mx-auto">
                A HanzDocs utiliza Inteligência Artificial para gerar CVs, Cartas e Contratos otimizados para o mercado moçambicano.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center mb-20">
                <button onclick="showSection('auth')" class="px-8 py-4 bg-slate-900 text-white font-bold rounded-2xl hover:bg-blue-600 transition flex items-center justify-center gap-2">
                    Criar meu Documento <i class="fas fa-magic"></i>
                </button>
                <button class="px-8 py-4 bg-white border border-slate-200 text-slate-700 font-bold rounded-2xl hover:bg-slate-50 transition">
                    Ver Templates
                </button>
            </div>

            <!-- Preços -->
            <div id="precos" class="grid md:grid-cols-3 gap-8 py-20">
                <!-- Plano Grátis -->
                <div class="bg-white p-8 rounded-3xl border border-slate-200 text-left">
                    <h3 class="font-bold text-xl mb-2">Grátis</h3>
                    <div class="text-3xl font-black mb-6">0 MT <span class="text-sm text-slate-400 font-normal">/mês</span></div>
                    <ul class="space-y-3 text-slate-600 text-sm mb-8">
                        <li><i class="fas fa-check text-green-500 mr-2"></i> 1 Documento por mês</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i> Templates Básicos</li>
                        <li class="opacity-40"><i class="fas fa-times mr-2"></i> Exportação HD PDF</li>
                    </ul>
                    <button onclick="showSection('auth')" class="w-full py-3 border border-slate-200 rounded-xl font-bold hover:bg-slate-50 transition">Selecionar</button>
                </div>
                <!-- Plano Pro -->
                <div class="bg-white p-8 rounded-3xl border-2 border-blue-600 text-left relative shadow-xl shadow-blue-100">
                    <span class="absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-600 text-white text-[10px] font-black px-4 py-1 rounded-full uppercase">Mais Popular</span>
                    <h3 class="font-bold text-xl mb-2">Profissional</h3>
                    <div class="text-3xl font-black mb-6">450 MT <span class="text-sm text-slate-400 font-normal">/mês</span></div>
                    <ul class="space-y-3 text-slate-600 text-sm mb-8">
                        <li><i class="fas fa-check text-green-500 mr-2"></i> Documentos Ilimitados</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i> IA Avançada</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i> Templates Premium</li>
                    </ul>
                    <button onclick="showSection('auth')" class="w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition">Subscrever Agora</button>
                </div>
                <!-- Plano Business -->
                <div class="bg-white p-8 rounded-3xl border border-slate-200 text-left">
                    <h3 class="font-bold text-xl mb-2">Empresas</h3>
                    <div class="text-3xl font-black mb-6">Custom</div>
                    <ul class="space-y-3 text-slate-600 text-sm mb-8">
                        <li><i class="fas fa-check text-green-500 mr-2"></i> Gestão de Equipa</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i> API Access</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i> Suporte Dedicado</li>
                    </ul>
                    <button class="w-full py-3 border border-slate-200 rounded-xl font-bold hover:bg-slate-50 transition">Contactar Vendas</button>
                </div>
            </div>
        </div>
    </section>

    <!-- SECÇÃO: AUTENTICAÇÃO (Supabase Style) -->
    <section id="auth-section" class="hidden min-h-screen flex items-center justify-center p-4 no-print">
        <div class="w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden">
            <div class="p-8">
                <div class="text-center mb-8">
                    <div class="bg-blue-600 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-lock text-white"></i>
                    </div>
                    <h2 class="text-2xl font-black">Bem-vindo à HanzDocs</h2>
                    <p class="text-slate-500 text-sm">Entra na tua conta para continuar</p>
                </div>
                
                <form onsubmit="handleLogin(event)" class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-400 uppercase mb-2">Email</label>
                        <input type="email" required placeholder="exemplo@gmail.com" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 transition">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-400 uppercase mb-2">Palavra-passe</label>
                        <input type="password" required placeholder="••••••••" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 transition">
                    </div>
                    <button type="submit" class="w-full py-4 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition">Entrar na Plataforma</button>
                </form>

                <div class="mt-6 flex items-center gap-4">
                    <div class="h-[1px] bg-slate-100 flex-1"></div>
                    <span class="text-xs text-slate-400 font-medium">Ou continuar com</span>
                    <div class="h-[1px] bg-slate-100 flex-1"></div>
                </div>

                <div class="grid grid-cols-2 gap-4 mt-6">
                    <button class="flex items-center justify-center gap-2 py-3 border border-slate-200 rounded-xl hover:bg-slate-50 transition text-sm font-bold">
                        <i class="fab fa-google text-red-500"></i> Google
                    </button>
                    <button class="flex items-center justify-center gap-2 py-3 border border-slate-200 rounded-xl hover:bg-slate-50 transition text-sm font-bold">
                        <i class="fab fa-facebook text-blue-600"></i> Facebook
                    </button>
                </div>
            </div>
            <div class="bg-slate-50 p-6 text-center border-t border-slate-100">
                <p class="text-xs text-slate-500">Não tem conta? <a href="#" class="text-blue-600 font-bold">Criar conta grátis</a></p>
            </div>
        </div>
    </section>

    <!-- SECÇÃO: DASHBOARD -->
    <section id="dashboard-section" class="hidden min-h-screen pt-20 no-print">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex items-center justify-between mb-8">
                <div>
                    <h2 class="text-3xl font-black text-slate-900">Meus Documentos</h2>
                    <p class="text-slate-500">Gerencia as tuas criações inteligentes.</p>
                </div>
                <button onclick="showSection('editor')" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition">
                    <i class="fas fa-plus"></i> Novo Documento
                </button>
            </div>

            <!-- Lista Vazia / Placeholder -->
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white p-8 rounded-3xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center text-center opacity-60 hover:opacity-100 transition cursor-pointer" onclick="showSection('editor')">
                    <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4">
                        <i class="fas fa-file-alt text-slate-400 text-2xl"></i>
                    </div>
                    <p class="font-bold text-slate-600">Criar primeiro documento</p>
                    <p class="text-xs text-slate-400 mt-1">Usa o assistente de IA</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECÇÃO: EDITOR COM IA -->
    <section id="editor-section" class="hidden min-h-screen pt-20">
        <div class="max-w-[1400px] mx-auto px-4 grid grid-cols-1 lg:grid-cols-12 gap-8 h-[calc(100vh-100px)]">
            
            <!-- Painel de Controlo IA -->
            <div class="lg:col-span-4 bg-white rounded-3xl shadow-sm border border-slate-200 p-6 flex flex-col no-print overflow-y-auto">
                <div class="flex items-center gap-2 mb-6 text-blue-600 font-black uppercase text-xs tracking-widest">
                    <i class="fas fa-robot"></i> Assistente HanzDocs
                </div>
                
                <div class="space-y-6 flex-1">
                    <div>
                        <label class="block text-[10px] font-black text-slate-400 uppercase mb-2">Tipo de Documento</label>
                        <select id="doc-type" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none">
                            <option value="cv">Currículo Profissional (CV)</option>
                            <option value="carta">Carta de Apresentação</option>
                            <option value="contrato">Minuta de Contrato</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-[10px] font-black text-slate-400 uppercase mb-2">Dados do Utilizador</label>
                        <input type="text" id="ai-name" placeholder="Nome Completo" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl mb-3">
                        <input type="text" id="ai-vaga" placeholder="Cargo/Vaga Desejada" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl">
                    </div>

                    <div>
                        <label class="block text-[10px] font-black text-slate-400 uppercase mb-2">Contexto para a IA</label>
                        <textarea id="ai-context" rows="6" placeholder="Ex: Tenho 5 anos de experiência em vendas no retalho, estudei na UEM e procuro vaga de gestor..." class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none"></textarea>
                    </div>
                </div>

                <div class="pt-6 border-t border-slate-100 mt-auto">
                    <button onclick="generateAI()" id="btn-gerar" class="w-full py-4 bg-slate-900 text-white font-bold rounded-2xl hover:bg-blue-600 transition flex items-center justify-center gap-3">
                        <span>Gerar com IA</span>
                        <i class="fas fa-sparkles text-yellow-400"></i>
                    </button>
                    <button onclick="showSection('dashboard')" class="w-full mt-3 py-2 text-slate-400 text-xs font-bold hover:text-slate-600 transition">Sair do Editor</button>
                </div>
            </div>

            <!-- Preview do Documento -->
            <div class="lg:col-span-8 flex flex-col h-full overflow-hidden">
                <div class="flex justify-between items-center mb-4 no-print">
                    <div class="flex gap-2">
                        <button class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold hover:bg-slate-50"><i class="fas fa-palette mr-2"></i> Tema</button>
                        <button class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold hover:bg-slate-50"><i class="fas fa-font mr-2"></i> Fonte</button>
                    </div>
                    <button onclick="window.print()" class="px-6 py-2 bg-blue-600 text-white rounded-lg text-xs font-bold shadow-lg shadow-blue-100 hover:bg-blue-700">
                        <i class="fas fa-download mr-2"></i> Exportar PDF
                    </button>
                </div>
                
                <div class="flex-1 bg-slate-200 rounded-2xl p-4 overflow-y-auto overflow-x-hidden flex flex-col items-center">
                    <div id="loading-state" class="hidden absolute inset-0 bg-white/60 backdrop-blur-sm z-50 flex flex-col items-center justify-center rounded-2xl">
                        <div class="loader w-12 h-12 border-4 border-slate-200 border-t-blue-600 rounded-full mb-4"></div>
                        <p class="font-bold text-slate-800 tracking-tight">O Gemini está a redigir o teu documento...</p>
                    </div>

                    <div id="page-preview" class="a4-page shadow-2xl relative">
                        <!-- Conteúdo Gerado Entra Aqui -->
                        <div class="h-full flex flex-col items-center justify-center text-slate-300">
                            <i class="fas fa-file-invoice text-6xl mb-6 opacity-20"></i>
                            <p class="font-bold opacity-30">Aguardando comandos da IA...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        const apiKey = ""; // Ambiente Canvas
        let currentUser = null;

        // Gestão de Secções
        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.getElementById(`${sectionId}-section`).classList.remove('hidden');
            
            // Esconder nav na autenticação
            if(sectionId === 'auth') {
                document.getElementById('main-nav').classList.add('hidden');
            } else {
                document.getElementById('main-nav').classList.remove('hidden');
            }

            // Scroll to top
            window.scrollTo(0,0);
        }

        // Simulação de Login (Supabase Logic ready)
        function handleLogin(e) {
            e.preventDefault();
            currentUser = { name: "Arlindo", email: "user@example.mz" };
            showSection('dashboard');
        }

        // Motor de IA Gemini
        async function generateAI() {
            const type = document.getElementById('doc-type').value;
            const name = document.getElementById('ai-name').value;
            const vaga = document.getElementById('ai-vaga').value;
            const context = document.getElementById('ai-context').value;

            if(!name || !context) {
                alert("Por favor, preenche o nome e o contexto.");
                return;
            }

            const loader = document.getElementById('loading-state');
            const btn = document.getElementById('btn-gerar');
            
            loader.classList.remove('hidden');
            btn.disabled = true;

            const prompt = `Gera um documento profissional para ${name} (Cargo: ${vaga}). 
            Tipo: ${type === 'cv' ? 'Curriculum Vitae' : 'Carta de Apresentação'}. 
            Contexto: ${context}. 
            Retorna APENAS o HTML formatado para uma folha A4, usando classes tailwind onde necessário, focado em elegância e seriedade. 
            Usa um design moderno com destaque azul.`;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });

                const result = await response.json();
                const htmlContent = result.candidates[0].content.parts[0].text.replace(/```html|```/g, '');
                
                document.getElementById('page-preview').innerHTML = htmlContent;
            } catch (error) {
                console.error("Erro na IA:", error);
                alert("Houve um erro ao gerar o documento. Tente novamente.");
            } finally {
                loader.classList.add('hidden');
                btn.disabled = false;
            }
        }
    </script>

</body>
</html>
