import React, { useState, useMemo } from 'react';
import { 
  User, Mail, Phone, MapPin, Briefcase, Trash2, Download, 
  Settings, Plus, CheckCircle, Award, Rocket, FileBadge, 
  AlignLeft, Palette, GraduationCap, Languages, BriefcaseBusiness, 
  PencilLine, Star, FileText, LayoutTemplate, PlusCircle, Building,
  Calendar, FileEdit, FileCode2, Linkedin, Globe, ShieldCheck,
  ChevronRight, Facebook, Instagram, Twitter, Type, MessageSquare,
  Trophy, HeartHandshake, BookOpen, Quote
} from 'lucide-react';

// --- CONFIGURA√á√ïES DE BRANDING E FUNDADOR ---
const BRAND = {
  name: "Hanz Docs",
  slogan: "Documentos que abrem portas.",
  colors: {
    primary: '#0F172A',   // Azul Profundo
    secondary: '#2563EB', // Azul Vibrante
    accent: '#10B981',    // Verde Esmeralda
    light: '#F8FAFC',
    dark: '#1E293B'
  }
};

const FOUNDER = {
  name: "Hanz Domingos",
  location: "Maputo, Mo√ßambique",
  phone: "+258 847875963",
  emailPersonal: "Hanzdomingos@gmail.com",
  emailCorp: "Hdomingoa@hdconsultingservice.com",
  role: "Especialista em M&A e Transforma√ß√£o Digital",
  bio: "Hanz Domingos √© especialista em Monitoria e Avalia√ß√£o (M&A), Gest√£o de Dados e Transforma√ß√£o Digital, com experi√™ncia em an√°lise estrat√©gica, automa√ß√£o de processos (RPA) e implementa√ß√£o de sistemas de informa√ß√£o. Com forte atua√ß√£o em projetos de sa√∫de e desenvolvimento, combina tecnologia, dados e vis√£o estrat√©gica para criar solu√ß√µes eficientes e sustent√°veis.",
  motivation: "Acredito que o talento mo√ßambicano precisa de ferramentas profissionais √† altura do mercado internacional. Atrav√©s do Hanz Docs, o meu objetivo √© capacitar jovens e profissionais a apresentarem-se com excel√™ncia, aumentando as suas oportunidades de crescimento profissional dentro e fora de Mo√ßambique."
};

const TEMPLATES_CV = [
  { id: 'minimalista', name: 'Minimalista' },
  { id: 'corporativo', name: 'Corporativo' },
  { id: 'criativo', name: 'Criativo' },
  { id: 'executivo', name: 'Executivo' },
  { id: 'academico', name: 'Acad√©mico' },
  { id: 'tecnologico', name: 'Tecnol√≥gico' },
  { id: 'internacional', name: 'Internacional (Europass)' },
  { id: 'jovem', name: 'Jovem / 1¬∫ Emprego' },
  { id: 'gestao', name: 'Gest√£o & Lideran√ßa' },
  { id: 'tecnico', name: 'T√©cnico / Engenharia' }
];

const TEMPLATES_COVER = [
  { id: 'c_emprego', name: 'Candidatura Emprego' },
  { id: 'c_estagio', name: 'Est√°gio' },
  { id: 'c_bolsa', name: 'Bolsa de Estudo' },
  { id: 'c_corp', name: 'Corporativa' },
  { id: 'c_formal', name: 'Formal Tradicional' },
  { id: 'c_moderna', name: 'Moderna Minimalista' },
  { id: 'c_criativa', name: 'Criativa' },
  { id: 'c_inter', name: 'Internacional' }
];

const TEMPLATES_MOTIVATION = [
  { id: 'm_bolsa', name: 'Bolsa de Estudo' },
  { id: 'm_uni', name: 'Universidade' },
  { id: 'm_mestrado', name: 'Mestrado' },
  { id: 'm_doutor', name: 'Doutoramento' },
  { id: 'm_ong', name: 'ONG / Voluntariado' },
  { id: 'm_visto', name: 'Visto de Estudo' },
  { id: 'm_inter', name: 'Prog. Internacional' },
  { id: 'm_gov', name: 'Oport. Governamental' }
];

// --- APP PRINCIPAL ---
export default function App() {
  const [activeView, setActiveView] = useState('landing');
  const [docType, setDocType] = useState('cv'); // cv, cover, motivation
  const [activeTab, setActiveTab] = useState('perfil');
  const [tone, setTone] = useState('profissional'); // formal, profissional, confiante, criativo

  const [data, setData] = useState({
    profile: { 
      fullName: 'Ars√©nio Muianga', 
      title: 'Analista de Dados Senior', 
      email: 'arsenio.muianga@exemplo.mz', 
      phone: '+258 84 123 4567', 
      location: 'Maputo, Mo√ßambique',
      linkedin: 'linkedin.com/in/arsenio',
      website: 'www.arsenio.mz',
      summary: 'Profissional focado em BI e an√°lise estrat√©gica com 8 anos de experi√™ncia no mercado mo√ßambicano e internacional.' 
    },
    letterData: {
      recipient: 'Dire√ß√£o de RH - Vodacom Mo√ßambique',
      subject: 'Candidatura √† vaga de Gestor de Projetos',
      salutation: 'Exmos. Senhores,',
      body: 'Escrevo com grande entusiasmo para me candidatar √† posi√ß√£o mencionada...',
      signOff: 'Atenciosamente,',
      date: new Date().toLocaleDateString('pt-MZ')
    },
    sections: [
      { id: 'exp', title: 'Experi√™ncia Profissional', type: 'list', items: [{ id: '1', title: 'Analista Lead', subtitle: 'DataCorp MZ', period: '2021-2026', desc: 'Gest√£o de equipas de BI e automa√ß√£o de relat√≥rios.' }] },
      { id: 'edu', title: 'Forma√ß√£o Acad√©mica', type: 'list', items: [{ id: 'e1', title: 'Licenciatura em Inform√°tica', subtitle: 'Univ. Eduardo Mondlane', period: '2016-2020', desc: 'M√©dia final de 16 valores.' }] },
      { id: 'skill_tech', title: 'Compet√™ncias T√©cnicas', type: 'tags', items: ['Power BI', 'SQL', 'Python', 'ETL'] },
      { id: 'skill_soft', title: 'Compet√™ncias Comportamentais', type: 'tags', items: ['Lideran√ßa', 'Pensamento Cr√≠tico', 'Comunica√ß√£o'] },
      { id: 'lang', title: 'Idiomas', type: 'list', items: [{ id: 'l1', title: 'Portugu√™s', subtitle: 'Nativo', period: '', desc: '' }, { id: 'l2', title: 'Ingl√™s', subtitle: 'Avan√ßado (C1)', period: '', desc: '' }] }
    ],
    settings: {
      template: 'corporativo',
      accentColor: BRAND.colors.secondary,
      font: 'Inter'
    }
  });

  const [customFieldName, setCustomFieldName] = useState('');

  // Adicionar Nova Sec√ß√£o
  const addSection = () => {
    if(!customFieldName) return;
    const newSec = { id: `sec_${Date.now()}`, title: customFieldName, type: 'list', items: [] };
    setData(prev => ({ ...prev, sections: [...prev.sections, newSec] }));
    setActiveTab(newSec.id);
    setCustomFieldName('');
  };

  // Remover Sec√ß√£o
  const removeSection = (id) => {
    setData(prev => ({ ...prev, sections: prev.sections.filter(s => s.id !== id) }));
    if(activeTab === id) setActiveTab('perfil');
  };

  // Adicionar Item em Sec√ß√£o
  const addItem = (sectionId) => {
    setData(prev => ({
      ...prev,
      sections: prev.sections.map(s => s.id === sectionId ? {
        ...s,
        items: s.type === 'tags' ? [...s.items, 'Nova Tag'] : [...s.items, { id: Date.now().toString(), title: 'Novo Item', subtitle: '', period: '', desc: '' }]
      } : s)
    }));
  };

  // Gerar Texto por Tom (Mockup de IA)
  const generateText = () => {
    const tones = {
      formal: "Venho por este meio expressar o meu interesse formal na posi√ß√£o...",
      profissional: "Escrevo para apresentar a minha candidatura √† vaga de...",
      confiante: "Estou certo de que as minhas compet√™ncias em dados trar√£o resultados imediatos para a...",
      criativo: "Imagine uma equipa de dados que n√£o apenas l√™ n√∫meros, mas conta hist√≥rias..."
    };
    setData(prev => ({ ...prev, letterData: { ...prev.letterData, body: tones[tone] } }));
  };

  // Renderiza√ß√£o do Template Ativo no Canvas
  const renderDocumentPreview = () => {
    if (docType === 'cv') {
      return (
        <div className={`w-full min-h-full bg-white relative transition-all duration-500 font-${data.settings.font}`}>
          {/* Cabe√ßalho */}
          <header className={`p-10 border-b-4 mb-8`} style={{ borderColor: data.settings.accentColor }}>
            <div className="flex justify-between items-end">
              <div>
                <h1 className="text-4xl font-black uppercase tracking-tighter" style={{ color: data.settings.accentColor }}>{data.profile.fullName}</h1>
                <p className="text-xl font-bold text-slate-400 uppercase tracking-widest">{data.profile.title}</p>
              </div>
              <div className="text-right text-[10px] font-bold text-slate-500 uppercase leading-tight">
                <p>{data.profile.location}</p>
                <p>{data.profile.email}</p>
                <p>{data.profile.phone}</p>
                <p className="text-blue-600">{data.profile.linkedin}</p>
              </div>
            </div>
          </header>

          <div className="px-10 grid grid-cols-12 gap-10">
            <div className="col-span-8 space-y-8">
              <section>
                <h3 className="text-[10px] font-black uppercase tracking-[0.3em] mb-4 opacity-50">Resumo</h3>
                <p className="text-sm text-slate-700 leading-relaxed font-medium">{data.profile.summary}</p>
              </section>

              {data.sections.filter(s => s.type === 'list').map(s => (
                <section key={s.id}>
                  <h3 className="text-[10px] font-black uppercase tracking-[0.3em] mb-4 flex justify-between items-center" style={{ color: data.settings.accentColor }}>
                    <span>{s.title}</span>
                  </h3>
                  <div className="space-y-6">
                    {s.items.map(i => (
                      <div key={i.id} className="group relative">
                        <div className="flex justify-between items-start mb-1">
                          <h4 className="font-black text-xs uppercase text-slate-800">{i.title}</h4>
                          <span className="text-[10px] font-bold text-slate-400">{i.period}</span>
                        </div>
                        <p className="text-[10px] font-bold text-blue-600 uppercase mb-2">{i.subtitle}</p>
                        <p className="text-[11px] text-slate-500 leading-relaxed">{i.desc}</p>
                      </div>
                    ))}
                  </div>
                </section>
              ))}
            </div>

            <div className="col-span-4 space-y-8">
              {data.sections.filter(s => s.type === 'tags').map(s => (
                <section key={s.id}>
                   <h3 className="text-[10px] font-black uppercase tracking-[0.3em] mb-4 opacity-50">{s.title}</h3>
                   <div className="flex flex-wrap gap-2">
                     {s.items.map((tag, idx) => (
                       <span key={idx} className="bg-slate-100 px-3 py-1.5 rounded-lg text-[9px] font-black uppercase text-slate-600 border border-slate-200">{tag}</span>
                     ))}
                   </div>
                </section>
              ))}
            </div>
          </div>
          
          <div className="absolute bottom-10 left-10 right-10 flex justify-between items-center opacity-30 border-t pt-4">
             <span className="text-[8px] font-black uppercase">Gerado via Hanz Docs - Maputo</span>
             <span className="text-[8px] font-black uppercase">Template: {data.settings.template}</span>
          </div>
        </div>
      );
    } else {
      // Preview para Cartas (Apresenta√ß√£o / Motiva√ß√£o)
      return (
        <div className="w-full min-h-full bg-white p-16 font-serif">
           <div className="mb-12 text-sm space-y-1">
              <p className="font-black text-slate-900">{data.profile.fullName}</p>
              <p className="text-slate-500">{data.profile.location}</p>
              <p className="text-slate-500">{data.profile.email} | {data.profile.phone}</p>
           </div>

           <div className="mb-12 text-sm text-right">
              <p className="text-slate-400 mb-6">{data.letterData.date}</p>
              <p className="font-black">Para:</p>
              <p className="text-slate-600 whitespace-pre-line">{data.letterData.recipient}</p>
           </div>

           <div className="mb-8">
              <p className="font-black text-slate-900 uppercase tracking-widest border-b pb-2 mb-8">Assunto: {data.letterData.subject}</p>
              <p className="mb-6 font-bold">{data.letterData.salutation}</p>
              <p className="text-slate-700 leading-[1.8] text-sm whitespace-pre-line min-h-[400px]">
                {data.letterData.body}
              </p>
           </div>

           <div className="mt-16 border-t pt-8">
              <p className="text-sm mb-12">{data.letterData.signOff}</p>
              <div className="h-px w-48 bg-slate-300 mb-2"></div>
              <p className="font-black uppercase tracking-widest text-xs">{data.profile.fullName}</p>
           </div>
        </div>
      );
    }
  };

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-blue-100">
      
      {/* NAVEGA√á√ÉO SUPERIOR */}
      <nav className="h-20 bg-white border-b border-slate-200 px-8 flex items-center justify-between sticky top-0 z-50">
        <div className="flex items-center gap-3 cursor-pointer group" onClick={() => setActiveView('landing')}>
          <div className="bg-blue-600 p-2 rounded-xl text-white group-hover:rotate-12 transition-transform"><FileBadge /></div>
          <span className="text-2xl font-black tracking-tighter uppercase">HANZ<span className="text-emerald-500">DOCS</span></span>
        </div>
        <div className="hidden md:flex gap-8 items-center">
          <button onClick={() => { setActiveView('editor'); setDocType('cv'); }} className={`text-[10px] font-black uppercase tracking-widest hover:text-blue-600 transition-colors ${docType === 'cv' && activeView === 'editor' ? 'text-blue-600' : ''}`}>Curr√≠culos</button>
          <button onClick={() => { setActiveView('editor'); setDocType('cover'); }} className={`text-[10px] font-black uppercase tracking-widest hover:text-blue-600 transition-colors ${docType === 'cover' && activeView === 'editor' ? 'text-blue-600' : ''}`}>Cartas</button>
          <button onClick={() => setActiveView('founder')} className={`text-[10px] font-black uppercase tracking-widest hover:text-blue-600 transition-colors ${activeView === 'founder' ? 'text-blue-600' : ''}`}>O Fundador</button>
          <div className="h-6 w-px bg-slate-200"></div>
          <button className="bg-slate-900 text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all shadow-lg shadow-blue-500/20">Login</button>
        </div>
      </nav>

      {/* VIEWS */}
      {activeView === 'landing' && <LandingView onStart={() => setActiveView('editor')} />}
      {activeView === 'founder' && <FounderSection />}
      
      {activeView === 'editor' && (
        <div className="flex h-[calc(100vh-5rem)] overflow-hidden">
          
          {/* Sidebar Editor */}
          <aside className="w-[400px] bg-white border-r border-slate-200 flex flex-col overflow-y-auto custom-scrollbar">
            <div className="p-8 space-y-8 pb-32">
              
              {/* Seletor de Tipo de Doc */}
              <div className="space-y-2">
                <p className="text-[10px] font-black text-slate-400 uppercase tracking-widest">Documento</p>
                <div className="flex gap-1 p-1 bg-slate-100 rounded-xl">
                  {[
                    { id: 'cv', label: 'CV', icon: User },
                    { id: 'cover', label: 'Carta', icon: MessageSquare },
                    { id: 'motivation', label: 'Motiva√ß√£o', icon: HeartHandshake }
                  ].map(t => (
                    <button 
                      key={t.id}
                      onClick={() => setDocType(t.id)}
                      className={`flex-1 py-3 flex items-center justify-center gap-2 text-[9px] font-black uppercase rounded-lg transition-all ${docType === t.id ? 'bg-white text-blue-600 shadow-sm' : 'text-slate-400 hover:text-slate-600'}`}
                    >
                      <t.icon size={14}/> {t.label}
                    </button>
                  ))}
                </div>
              </div>

              {/* Seletor de Template Baseado no Tipo */}
              <div className="space-y-4">
                <p className="text-[10px] font-black text-slate-400 uppercase tracking-widest">Template Selecionado</p>
                <select 
                  className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-blue-500/20"
                  value={data.settings.template}
                  onChange={(e) => setData({...data, settings: {...data.settings, template: e.target.value}})}
                >
                  {docType === 'cv' ? TEMPLATES_CV.map(t => <option key={t.id} value={t.id}>{t.name}</option>) : 
                   docType === 'cover' ? TEMPLATES_COVER.map(t => <option key={t.id} value={t.id}>{t.name}</option>) :
                   TEMPLATES_MOTIVATION.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}
                </select>
              </div>

              {/* Editor de Conte√∫do */}
              <div className="space-y-4">
                 <p className="text-[10px] font-black text-slate-400 uppercase tracking-widest">Campos e Sec√ß√µes</p>
                 <div className="space-y-2">
                    <button onClick={() => setActiveTab('perfil')} className={`w-full flex items-center justify-between p-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${activeTab === 'perfil' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'}`}>
                      <span className="flex items-center gap-3"><User size={16}/> Dados Pessoais</span>
                    </button>
                    {docType !== 'cv' && (
                      <button onClick={() => setActiveTab('carta')} className={`w-full flex items-center justify-between p-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${activeTab === 'carta' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'}`}>
                        <span className="flex items-center gap-3"><FileEdit size={16}/> Corpo da Carta</span>
                      </button>
                    )}
                    {data.sections.map(s => (
                      <div key={s.id} className="flex gap-2">
                        <button onClick={() => setActiveTab(s.id)} className={`flex-1 flex items-center justify-between p-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${activeTab === s.id ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'}`}>
                          <span className="flex items-center gap-3"><FileText size={16}/> {s.title}</span>
                        </button>
                        <button onClick={() => removeSection(s.id)} className="bg-red-50 text-red-400 p-4 rounded-xl hover:bg-red-500 hover:text-white transition-all"><Trash2 size={16}/></button>
                      </div>
                    ))}
                 </div>

                 {/* Adicionar Sec√ß√£o Personalizada */}
                 <div className="pt-4 flex gap-2">
                    <input 
                      className="flex-1 bg-slate-50 border border-slate-200 p-3 rounded-xl text-xs font-bold outline-none focus:border-blue-500"
                      placeholder="Nova Sec√ß√£o (ex: Projetos)"
                      value={customFieldName}
                      onChange={(e) => setCustomFieldName(e.target.value)}
                    />
                    <button onClick={addSection} className="bg-emerald-500 text-white p-3 rounded-xl shadow-lg shadow-emerald-500/20 hover:scale-105 transition-transform"><Plus size={18}/></button>
                 </div>
              </div>

              {/* Configura√ß√µes de Estilo */}
              <div className="pt-8 border-t border-slate-100 space-y-6">
                 <p className="text-[10px] font-black text-slate-400 uppercase tracking-widest">Identidade Visual</p>
                 <div className="space-y-4">
                    <div className="flex justify-between items-center">
                      <span className="text-[10px] font-black uppercase tracking-widest">Cor de Destaque</span>
                      <div className="flex gap-2">
                        {['#2563EB', '#10B981', '#F59E0B', '#EF4444', '#0F172A'].map(c => (
                          <button 
                            key={c}
                            onClick={() => setData({...data, settings: {...data.settings, accentColor: c}})}
                            className={`w-6 h-6 rounded-full border-2 ${data.settings.accentColor === c ? 'border-slate-400 scale-125' : 'border-transparent'}`}
                            style={{ backgroundColor: c }}
                          />
                        ))}
                      </div>
                    </div>
                    {docType !== 'cv' && (
                      <div className="space-y-3 pt-4">
                        <span className="text-[10px] font-black uppercase tracking-widest">Tom da Escrita</span>
                        <div className="grid grid-cols-2 gap-2">
                           {['formal', 'profissional', 'confiante', 'criativo'].map(t => (
                             <button 
                               key={t}
                               onClick={() => setTone(t)}
                               className={`p-2 rounded-lg border text-[8px] font-black uppercase transition-all ${tone === t ? 'border-blue-600 bg-blue-50 text-blue-600' : 'border-slate-100 text-slate-400'}`}
                             >
                               {t}
                             </button>
                           ))}
                        </div>
                        <button onClick={generateText} className="w-full bg-slate-900 text-white p-3 rounded-xl text-[9px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-blue-600">
                          <Rocket size={14}/> Sugerir Texto IA
                        </button>
                      </div>
                    )}
                 </div>
              </div>

            </div>
          </aside>

          {/* √Årea de Visualiza√ß√£o e Edi√ß√£o Contextual */}
          <main className="flex-1 bg-slate-100 overflow-y-auto flex">
            {/* Editor Central */}
            <div className="w-1/3 bg-white border-r border-slate-200 p-8 overflow-y-auto custom-scrollbar">
              <div className="space-y-6">
                <h3 className="text-[10px] font-black uppercase tracking-[0.3em] text-blue-600">{activeTab}</h3>
                
                {activeTab === 'perfil' && (
                  <div className="space-y-4">
                    <InputGroup label="Nome Completo" value={data.profile.fullName} onChange={v => setData({...data, profile: {...data.profile, fullName: v}})} />
                    <InputGroup label="T√≠tulo Profissional" value={data.profile.title} onChange={v => setData({...data, profile: {...data.profile, title: v}})} />
                    <InputGroup label="Email" value={data.profile.email} onChange={v => setData({...data, profile: {...data.profile, email: v}})} />
                    <InputGroup label="Telefone" value={data.profile.phone} onChange={v => setData({...data, profile: {...data.profile, phone: v}})} />
                    <InputGroup label="Localiza√ß√£o" value={data.profile.location} onChange={v => setData({...data, profile: {...data.profile, location: v}})} />
                    <div className="space-y-2">
                       <label className="text-[9px] font-black uppercase text-slate-400">Resumo Profissional</label>
                       <textarea 
                         className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-xs font-medium min-h-[120px] outline-none focus:border-blue-500"
                         value={data.profile.summary}
                         onChange={(e) => setData({...data, profile: {...data.profile, summary: e.target.value}})}
                       />
                    </div>
                  </div>
                )}

                {activeTab === 'carta' && (
                  <div className="space-y-4">
                    <InputGroup label="Destinat√°rio" value={data.letterData.recipient} onChange={v => setData({...data, letterData: {...data.letterData, recipient: v}})} multiline />
                    <InputGroup label="Assunto" value={data.letterData.subject} onChange={v => setData({...data, letterData: {...data.letterData, subject: v}})} />
                    <InputGroup label="Sauda√ß√£o" value={data.letterData.salutation} onChange={v => setData({...data, letterData: {...data.letterData, salutation: v}})} />
                    <div className="space-y-2">
                       <label className="text-[9px] font-black uppercase text-slate-400">Corpo do Texto</label>
                       <textarea 
                         className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-xs font-medium min-h-[400px] outline-none focus:border-blue-500"
                         value={data.letterData.body}
                         onChange={(e) => setData({...data, letterData: {...data.letterData, body: e.target.value}})}
                       />
                    </div>
                  </div>
                )}

                {data.sections.map(s => activeTab === s.id && (
                  <div key={s.id} className="space-y-6">
                    {s.items.map((item, idx) => (
                      <div key={item.id || idx} className="p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-4 relative group">
                        <button className="absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
                          <Plus size={12} className="rotate-45" />
                        </button>
                        {s.type === 'list' ? (
                          <>
                            <InputGroup label="T√≠tulo" value={item.title} onChange={v => {
                              const newItems = [...s.items];
                              newItems[idx].title = v;
                              setData({...data, sections: data.sections.map(sec => sec.id === s.id ? {...sec, items: newItems} : sec)});
                            }} />
                            <InputGroup label="Subt√≠tulo / Empresa" value={item.subtitle} onChange={v => {
                              const newItems = [...s.items];
                              newItems[idx].subtitle = v;
                              setData({...data, sections: data.sections.map(sec => sec.id === s.id ? {...sec, items: newItems} : sec)});
                            }} />
                            <InputGroup label="Per√≠odo" value={item.period} onChange={v => {
                              const newItems = [...s.items];
                              newItems[idx].period = v;
                              setData({...data, sections: data.sections.map(sec => sec.id === s.id ? {...sec, items: newItems} : sec)});
                            }} />
                            <textarea 
                              className="w-full bg-white border border-slate-200 p-3 rounded-xl text-[11px] outline-none" 
                              placeholder="Descri√ß√£o..."
                              value={item.desc}
                              onChange={e => {
                                const newItems = [...s.items];
                                newItems[idx].desc = e.target.value;
                                setData({...data, sections: data.sections.map(sec => sec.id === s.id ? {...sec, items: newItems} : sec)});
                              }}
                            />
                          </>
                        ) : (
                          <InputGroup label={`Tag ${idx + 1}`} value={item} onChange={v => {
                            const newItems = [...s.items];
                            newItems[idx] = v;
                            setData({...data, sections: data.sections.map(sec => sec.id === s.id ? {...sec, items: newItems} : sec)});
                          }} />
                        )}
                      </div>
                    ))}
                    <button onClick={() => addItem(s.id)} className="w-full border-2 border-dashed border-slate-200 p-4 rounded-2xl text-[10px] font-black uppercase text-slate-400 hover:border-blue-400 hover:text-blue-500 transition-all">
                      + Adicionar Item
                    </button>
                  </div>
                ))}
              </div>
            </div>

            {/* Canvas de Visualiza√ß√£o */}
            <div className="flex-1 p-12 overflow-y-auto flex flex-col items-center custom-scrollbar">
              <div className="mb-6 flex gap-4">
                 <button className="bg-white border border-slate-200 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-slate-50">
                    <Download size={16} /> Exportar PDF
                 </button>
                 <button className="bg-blue-600 text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-blue-700 shadow-xl shadow-blue-500/20">
                    <CheckCircle size={16} /> Finalizar
                 </button>
              </div>
              <div className="w-[794px] min-h-[1123px] bg-white shadow-2xl origin-top transition-transform duration-300">
                {renderDocumentPreview()}
              </div>
            </div>
          </main>
        </div>
      )}

      {/* FOOTER */}
      <footer className="bg-white border-t border-slate-200 py-12 px-8">
        <div className="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8">
          <div className="flex items-center gap-3">
            <div className="bg-slate-900 p-2 rounded-lg text-white"><FileBadge size={18} /></div>
            <span className="text-lg font-black tracking-tighter uppercase">HANZ<span className="text-emerald-500">DOCS</span></span>
          </div>
          <p className="text-slate-400 text-[10px] font-bold uppercase tracking-widest">¬© 2026 Hanz Docs. A plataforma l√≠der em documentos profissionais de Mo√ßambique.</p>
          <div className="flex gap-4">
            <Facebook size={18} className="text-slate-400 hover:text-blue-600 cursor-pointer" />
            <Instagram size={18} className="text-slate-400 hover:text-blue-600 cursor-pointer" />
            <Linkedin size={18} className="text-slate-400 hover:text-blue-600 cursor-pointer" />
          </div>
        </div>
      </footer>

      <style>{`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 10px; }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Montserrat:wght@400;700;900&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap');
      `}</style>
    </div>
  );
}

// --- COMPONENTES AUXILIARES ---

function InputGroup({ label, value, onChange, multiline = false }) {
  return (
    <div className="space-y-2">
      <label className="text-[9px] font-black uppercase text-slate-400 tracking-widest">{label}</label>
      {multiline ? (
        <textarea 
          className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-xs font-bold outline-none focus:border-blue-500 min-h-[80px]"
          value={value}
          onChange={(e) => onChange(e.target.value)}
        />
      ) : (
        <input 
          className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-xs font-bold outline-none focus:border-blue-500"
          value={value}
          onChange={(e) => onChange(e.target.value)}
        />
      )}
    </div>
  );
}

function LandingView({ onStart }) {
  return (
    <div className="py-20 px-8 max-w-7xl mx-auto text-center space-y-12">
      <div className="inline-block bg-blue-50 text-blue-600 px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest border border-blue-100 animate-pulse">
        üöÄ Dispon√≠vel em Mo√ßambique, Angola e Portugal
      </div>
      <h1 className="text-6xl md:text-[100px] font-black tracking-tighter text-slate-900 leading-[0.85]">
        TRANSFORME SEU PERFIL <br/><span className="text-blue-600 underline decoration-emerald-500 underline-offset-[12px] italic">EM OPORTUNIDADE.</span>
      </h1>
      <p className="text-xl text-slate-500 font-medium max-w-2xl mx-auto leading-relaxed">
        Templates premium para CVs, Cartas de Apresenta√ß√£o e Motiva√ß√£o. O padr√£o internacional que o mercado mo√ßambicano exige.
      </p>
      <div className="flex flex-col md:flex-row justify-center gap-4">
        <button onClick={onStart} className="bg-blue-600 text-white px-12 py-6 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-900 transition-all shadow-2xl shadow-blue-500/40 hover:-translate-y-1">
          Come√ßar Agora
        </button>
        <button className="bg-white border-2 border-slate-200 text-slate-900 px-12 py-6 rounded-[24px] font-black uppercase tracking-widest hover:border-blue-600 transition-all">
          Ver Modelos
        </button>
      </div>

      <div className="pt-24 grid grid-cols-1 md:grid-cols-4 gap-6 text-left">
        {[
          { icon: LayoutTemplate, title: "10+ Templates CV", desc: "Minimalista, Criativo, Executivo e Acad√©mico." },
          { icon: MessageSquare, title: "8+ Cartas Apres.", desc: "Para emprego, est√°gio ou candidatura internacional." },
          { icon: HeartHandshake, title: "8+ Motiva√ß√£o", desc: "Focadas em bolsas, mestrados e vistos de estudo." },
          { icon: Rocket, title: "Sugest√£o IA", desc: "Gerador de texto autom√°tico baseado no cargo e tom desejado." }
        ].map((f, i) => (
          <div key={i} className="bg-white p-8 rounded-[40px] border border-slate-100 shadow-sm hover:shadow-xl transition-all space-y-4">
            <div className="bg-blue-50 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-600"><f.icon size={24}/></div>
            <h3 className="font-black uppercase tracking-widest text-[11px]">{f.title}</h3>
            <p className="text-slate-400 text-xs font-medium leading-relaxed">{f.desc}</p>
          </div>
        ))}
      </div>
    </div>
  );
}

function FounderSection() {
  return (
    <div className="py-24 px-8 bg-white overflow-hidden relative">
      <div className="max-w-6xl mx-auto relative z-10">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-20 items-center">
          <div className="relative">
            <div className="w-full aspect-square rounded-[60px] bg-slate-900 overflow-hidden relative z-10 shadow-3xl">
               <div className="absolute inset-0 bg-gradient-to-br from-blue-600/40 to-emerald-500/40 mix-blend-overlay"></div>
               <div className="flex items-center justify-center h-full text-white">
                  <User size={200} strokeWidth={0.5} opacity={0.5} />
               </div>
            </div>
            <div className="absolute -bottom-10 -right-10 w-64 h-64 bg-emerald-400 rounded-full blur-[120px] opacity-20"></div>
            <div className="absolute -top-10 -left-10 w-64 h-64 bg-blue-400 rounded-full blur-[120px] opacity-20"></div>
          </div>
          <div className="space-y-8">
             <div className="space-y-4">
                <span className="bg-blue-50 text-blue-600 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em]">O Fundador</span>
                <h2 className="text-7xl font-black text-slate-900 tracking-tighter leading-tight">{FOUNDER.name}</h2>
                <p className="text-blue-600 font-black uppercase tracking-[0.3em] text-xs italic">{FOUNDER.role}</p>
             </div>
             <p className="text-slate-600 leading-relaxed font-medium text-xl italic border-l-8 border-emerald-500 pl-10">
                "{FOUNDER.bio}"
             </p>
             <div className="grid grid-cols-2 gap-4 pt-4">
                <div className="bg-slate-50 p-6 rounded-3xl border border-slate-100">
                   <p className="text-[9px] font-black text-slate-400 uppercase mb-2">Localiza√ß√£o</p>
                   <p className="font-black text-sm">{FOUNDER.location}</p>
                </div>
                <div className="bg-slate-50 p-6 rounded-3xl border border-slate-100">
                   <p className="text-[9px] font-black text-slate-400 uppercase mb-2">Contacto</p>
                   <p className="font-black text-sm">{FOUNDER.emailCorp}</p>
                </div>
             </div>
          </div>
        </div>

        <div className="mt-32 bg-slate-900 rounded-[64px] p-20 text-white relative overflow-hidden group">
           <div className="relative z-10 grid grid-cols-1 md:grid-cols-12 gap-12 items-center">
              <div className="md:col-span-8 space-y-8">
                <div className="flex items-center gap-4">
                   <div className="h-px w-12 bg-emerald-500"></div>
                   <h3 className="text-3xl font-black uppercase tracking-widest text-emerald-500">A Miss√£o Hanz Docs</h3>
                </div>
                <p className="text-slate-300 text-2xl leading-relaxed font-medium">
                  {FOUNDER.motivation}
                </p>
              </div>
              <div className="md:col-span-4 grid grid-cols-2 gap-4">
                 {[
                   { icon: Award, label: 'Qualidade Premium' },
                   { icon: ShieldCheck, label: 'Confian√ßa' },
                   { icon: Globe, label: 'Padr√£o Inter.' },
                   { icon: Rocket, label: 'Inova√ß√£o' }
                 ].map((item, i) => (
                   <div key={i} className="bg-white/5 border border-white/10 p-6 rounded-[32px] flex flex-col items-center gap-3 text-center">
                      <item.icon className="text-blue-400" size={24} />
                      <p className="text-[8px] font-black uppercase tracking-widest">{item.label}</p>
                   </div>
                 ))}
              </div>
           </div>
           <div className="absolute top-0 right-0 w-[500px] h-[500px] bg-blue-600/10 blur-[150px] rounded-full group-hover:bg-blue-600/20 transition-all duration-700"></div>
        </div>
      </div>
    </div>
  );
}
